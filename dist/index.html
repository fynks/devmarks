<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#1a1a1a">
    <meta name="robots" content="noindex">
    <meta name="description" content="A minimal bookmarks manager with dark mode">
    <title>DevMarks â€” Minimal Bookmarks</title>
    
    <!-- Favicons -->
    <link rel="icon" href="./favicon.ico" sizes="any">
    <link rel="icon" href="./favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="./favicon.png">
    
    <!-- Preload -->
    <link rel="preload" href="./json/data.json" as="fetch" crossorigin="anonymous">
    
    <style>
 :root{ --color-bg: #1a1a1a; --color-surface: #2d2d2d; --color-surface-hover: #1a1a1a; --color-border: #262626; --color-text: #fafafa; --color-text-muted: #a3a3a3; --color-accent: #3b82f6; --color-accent-hover: #2563eb; --color-category: #4338ca; --radius-sm: 0.375rem; --radius-md: 0.5rem; --radius-lg: 0.75rem; --radius-full: 9999px; --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05); --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1); --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1); --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.25); --transition-base: 150ms cubic-bezier(0.4, 0, 0.2, 1); --transition-smooth: 300ms cubic-bezier(0.4, 0, 0.2, 1); --font-sans: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;} *, *::before, *::after{ box-sizing: border-box;} *{ margin: 0; padding: 0;} html{ -webkit-text-size-adjust: 100%; tab-size: 4;} body{ font-family: var(--font-sans); font-size: 1rem; line-height: 1.5; color: var(--color-text); background-color: var(--color-bg); -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; min-height: 100vh;} .container{ width: 100%; max-width: 75rem; margin-inline: auto; padding-inline: 1rem; padding-block: 2rem;} @media (min-width: 640px){ .container{ padding-inline: 1.5rem; padding-block: 3rem;}} .header{ text-align: center; margin-bottom: 1.5rem;} .logo{ font-size: clamp(2rem, 5vw, 3rem); font-weight: 800; letter-spacing: -0.025em; background: linear-gradient(135deg, var(--color-accent) 0%, #60a5fa 100%); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 0.5rem;} .search-wrapper{ max-width: 42rem; margin-inline: auto; margin-bottom: 3rem; position: relative;} .search-input{ width: 100%; padding: 0.875rem 1rem 0.875rem 2.75rem; font-size: 0.9375rem; font-family: inherit; color: var(--color-text); background-color: var(--color-surface); border: 1px solid var(--color-border); border-radius: var(--radius-lg); outline: none; transition: all var(--transition-base);} .search-input:hover{ background-color: var(--color-surface-hover);} .search-input:focus{ border-color: var(--color-accent); box-shadow: 0 0 0 3px rgb(59 130 246 / 0.1);} .search-input::placeholder{ color: var(--color-text-muted);} .search-icon{ position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); width: 1.25rem; height: 1.25rem; color: var(--color-text-muted); pointer-events: none;} .bookmarks-grid{ display: grid; grid-template-columns: repeat(auto-fill, minmax(min(100%, 20rem), 1fr)); gap: 1.25rem;} @media (min-width: 640px){ .bookmarks-grid{ gap: 1.5rem;}} .bookmark-card{ position: relative; display: flex; flex-direction: column; padding: 1.5rem; background-color: var(--color-surface); border: 1px solid var(--color-border); border-radius: var(--radius-lg); text-decoration: none; transition: all var(--transition-base); cursor: pointer; isolation: isolate;} .bookmark-card::before{ content: ''; position: absolute; inset: 0; border-radius: var(--radius-lg); background: linear-gradient(135deg, var(--color-accent) 0%, transparent 100%); opacity: 0; z-index: -1; transition: opacity var(--transition-smooth);} .bookmark-card:hover{ transform: translateY(-2px); border-color: var(--color-accent); box-shadow: var(--shadow-lg);} .bookmark-card:hover::before{ opacity: 0.05;} .bookmark-card:hover .bookmark-arrow{ transform: translate(2px, -2px); color: var(--color-accent);} .bookmark-header{ display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 0.75rem;} .bookmark-title{ font-size: 1.125rem; font-weight: 600; color: var(--color-text); line-height: 1.3; flex: 1; margin-right: 0.5rem;} .bookmark-arrow{ flex-shrink: 0; width: 1.125rem; height: 1.125rem; color: var(--color-text-muted); transition: all var(--transition-base);} .bookmark-domain{ font-size: 0.875rem; color: var(--color-text-muted); margin-bottom: 1rem; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;} .bookmark-footer{ margin-top: auto; display: flex; align-items: center; gap: 0.5rem;} .bookmark-category{ display: inline-flex; align-items: center; padding: 0.25rem 0.625rem; font-size: 0.75rem; font-weight: 500; color: var(--color-text); background-color: var(--color-category); border-radius: var(--radius-full); text-transform: uppercase; letter-spacing: 0.025em;} .empty-state{ text-align: center; padding: 4rem 1rem;} .empty-state-icon{ width: 3rem; height: 3rem; margin-inline: auto; margin-bottom: 1rem; color: var(--color-text-muted);} .empty-state-text{ color: var(--color-text-muted); font-size: 0.9375rem;} @keyframes fadeIn{ from{ opacity: 0; transform: translateY(10px);} to{ opacity: 1; transform: translateY(0);}} .bookmark-card{ animation: fadeIn var(--transition-smooth) ease-out; animation-fill-mode: both;} .bookmark-card:nth-child(n){ animation-delay: calc(var(--stagger, 0) * 50ms);} .bookmark-card:focus-visible, .search-input:focus-visible{ outline: 2px solid var(--color-accent); outline-offset: 2px;} .skeleton{ background: linear-gradient( 90deg, var(--color-surface) 0%, var(--color-surface-hover) 50%, var(--color-surface) 100% ); background-size: 200% 100%; animation: skeleton 1.5s ease-in-out infinite;} @keyframes skeleton{ 0%{ background-position: 200% 0;} 100%{ background-position: -200% 0;}}
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 class="logo">DevMarks</h1>
        </header>
        
        <div class="search-wrapper">
            <svg class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                      d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
            <input 
                type="search"
                id="searchInput"
                class="search-input"
                placeholder="Search bookmarks..."
                aria-label="Search bookmarks"
                autocomplete="off"
                spellcheck="false" 
                autofocus="true"
            >
        </div>
        
        <main id="bookmarksGrid" class="bookmarks-grid" role="list"></main>
    </div>
    
    <script>
        // Modern JavaScript with ES6+ features
        class BookmarksApp {
            constructor() {
                this.bookmarks = [];
                this.filteredBookmarks = [];
                this.elements = {
                    grid: document.getElementById('bookmarksGrid'),
                    searchInput: document.getElementById('searchInput')
                };
                this.init();
            }
            
            async init() {
                try {
                    await this.loadBookmarks();
                    this.setupEventListeners();
                    this.render();
                } catch (error) {
                    console.error('Failed to initialize app:', error);
                    this.showError();
                }
            }
            
            async loadBookmarks() {
                const response = await fetch('./json/data.json');
                if (!response.ok) throw new Error('Failed to fetch bookmarks');
                const data = await response.json();
                this.bookmarks = data.bookmarks || [];
                this.filteredBookmarks = [...this.bookmarks];
            }
            
            setupEventListeners() {
                let debounceTimer;
                this.elements.searchInput.addEventListener('input', (e) => {
                    clearTimeout(debounceTimer);
                    debounceTimer = setTimeout(() => {
                        this.handleSearch(e.target.value);
                    }, 200);
                });
                
                // Keyboard navigation
                document.addEventListener('keydown', (e) => {
                    if (e.key === '/' && document.activeElement !== this.elements.searchInput) {
                        e.preventDefault();
                        this.elements.searchInput.focus();
                    }
                    if (e.key === 'Escape') {
                        this.elements.searchInput.blur();
                        this.elements.searchInput.value = '';
                        this.handleSearch('');
                    }
                });
            }
            
            handleSearch(query) {
                const searchTerm = query.toLowerCase().trim();
                
                if (!searchTerm) {
                    this.filteredBookmarks = [...this.bookmarks];
                } else {
                    this.filteredBookmarks = this.bookmarks.filter(bookmark => 
                        bookmark.title?.toLowerCase().includes(searchTerm) ||
                        bookmark.url?.toLowerCase().includes(searchTerm) ||
                        bookmark.cat?.toLowerCase().includes(searchTerm)
                    );
                }
                
                this.render();
            }
            
            getDomain(url) {
                try {
                    const { hostname } = new URL(url);
                    return hostname.replace('www.', '');
                } catch {
                    return url;
                }
            }
            
            createBookmarkCard(bookmark, index) {
                const domain = this.getDomain(bookmark.url);
                return `
                    <a 
                        href="${bookmark.url}"
                        class="bookmark-card"
                        target="_blank"
                        rel="noopener noreferrer"
                        role="listitem"
                        style="--stagger: ${index}"
                    >
                        <div class="bookmark-header">
                            <h2 class="bookmark-title">${bookmark.title}</h2>
                            <svg class="bookmark-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                                      d="M7 17L17 7M17 7H7M17 7V17"></path>
                            </svg>
                        </div>
                        <div class="bookmark-domain">${domain}</div>
                        <div class="bookmark-footer">
                            <span class="bookmark-category">${bookmark.cat}</span>
                        </div>
                    </a>
                `;
            }
            
            render() {
                if (this.filteredBookmarks.length === 0) {
                    this.elements.grid.innerHTML = `
                        <div class="empty-state">
                            <svg class="empty-state-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                                      d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M12 12h.01M12 12h-.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            <p class="empty-state-text">No bookmarks found</p>
                        </div>
                    `;
                    return;
                }
                
                this.elements.grid.innerHTML = this.filteredBookmarks
                    .map((bookmark, index) => this.createBookmarkCard(bookmark, index))
                    .join('');
            }
            
            showError() {
                this.elements.grid.innerHTML = `
                    <div class="empty-state">
                        <svg class="empty-state-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                                  d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <p class="empty-state-text">Failed to load bookmarks</p>
                    </div>
                `;
            }
        }
        
        // Initialize app when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => new BookmarksApp());
        } else {
            new BookmarksApp();
        }
        
        // Register service worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js').catch(console.error);
        }
    </script>
</body>
</html>